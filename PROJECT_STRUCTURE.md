# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä —Ñ–∞–π–ª–æ–≤

```
tgbot/
‚îú‚îÄ‚îÄ main.py                           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt                  # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example                      # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .gitignore                        # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
‚îú‚îÄ‚îÄ README.md                         # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ QUICKSTART.md                     # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îî‚îÄ‚îÄ PROJECT_STRUCTURE.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## Bot Package

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

```
bot/
‚îú‚îÄ‚îÄ __init__.py                       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ config.py                         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∑–∞–≥—Ä—É–∑–∫–∞ .env)
```

### Database (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)

```
bot/database/
‚îú‚îÄ‚îÄ __init__.py                       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ db.py                             # –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –ë–î
‚îî‚îÄ‚îÄ schema.sql                        # SQL —Å—Ö–µ–º–∞ (—Ç–∞–±–ª–∏—Ü—ã, –∏–Ω–¥–µ–∫—Å—ã, —Ç—Ä–∏–≥–≥–µ—Ä—ã)
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- `db.py` - –∫–ª–∞—Å—Å Database –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—É–ª–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π asyncpg
- `schema.sql` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü users, orders, settings

### Models (–º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö)

```
bot/models/
‚îú‚îÄ‚îÄ __init__.py                       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ user.py                           # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + UserRepository
‚îú‚îÄ‚îÄ order.py                          # –ú–æ–¥–µ–ª—å –∑–∞–∫–∞–∑–∞ + OrderRepository
‚îî‚îÄ‚îÄ settings.py                       # –ú–æ–¥–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ + SettingsRepository
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –∏ Repository –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω Repository

### Handlers (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)

```
bot/handlers/
‚îú‚îÄ‚îÄ __init__.py                       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ common.py                         # –û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã (/start, —è–∑—ã–∫, –∏–Ω—Ñ–æ)
‚îú‚îÄ‚îÄ payment.py                        # –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã (FSM)
‚îú‚îÄ‚îÄ profile.py                        # –ü—Ä–æ—Ñ–∏–ª—å –∏ –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îî‚îÄ‚îÄ admin.py                          # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- `common.py` - –∫–æ–º–∞–Ω–¥–∞ /start, —Å–º–µ–Ω–∞ —è–∑—ã–∫–∞, –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `payment.py` - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ —Å FSM (Finite State Machine)
- `profile.py` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è, –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤
- `admin.py` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏, —Ä–∞—Å—Å—ã–ª–∫–∞

### Keyboards (–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)

```
bot/keyboards/
‚îú‚îÄ‚îÄ __init__.py                       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îî‚îÄ‚îÄ inline.py                         # –í—Å–µ inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –í—Å–µ inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –±–æ—Ç–∞
- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä —Å —É—á–µ—Ç–æ–º —è–∑—ã–∫–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏ –∞–¥–º–∏–Ω—Å–∫–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

### Middlewares (–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û)

```
bot/middlewares/
‚îú‚îÄ‚îÄ __init__.py                       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îî‚îÄ‚îÄ user_check.py                     # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- `user_check.py` - middleware –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### Filters (—Ñ–∏–ª—å—Ç—Ä—ã)

```
bot/filters/
‚îú‚îÄ‚îÄ __init__.py                       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îî‚îÄ‚îÄ admin.py                          # –§–∏–ª—å—Ç—Ä –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- `admin.py` - —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### Utils (—É—Ç–∏–ª–∏—Ç—ã)

```
bot/utils/
‚îú‚îÄ‚îÄ __init__.py                       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ texts.py                          # –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã (RU/EN)
‚îî‚îÄ‚îÄ commission.py                     # –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- `texts.py` - –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –±–æ—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- `commission.py` - —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

### main.py

–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–æ–≤ –∏ middleware
- –ó–∞–ø—É—Å–∫ polling

### bot/config.py

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ .env
- –ö–ª–∞—Å—Å—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (BotConfig, DatabaseConfig)
- –§—É–Ω–∫—Ü–∏—è load_config()

### bot/database/schema.sql

SQL —Å—Ö–µ–º–∞ –ë–î:
- –¢–∞–±–ª–∏—Ü–∞ users (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- –¢–∞–±–ª–∏—Ü–∞ orders (–∑–∞–∫–∞–∑—ã)
- –¢–∞–±–ª–∏—Ü–∞ settings (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- Enum —Ç–∏–ø—ã (order_status, payment_method)
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è auto-update updated_at

### bot/handlers/payment.py

–ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã (State Machine):
1. `payment_start` - –Ω–∞—á–∞–ª–æ, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
2. `waiting_for_service` - –≤–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
3. `waiting_for_amount` - –≤–≤–æ–¥ —Å—É–º–º—ã
4. `waiting_for_payment_method` - –≤—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
5. `waiting_for_confirmation` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã
6. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

### bot/utils/texts.py

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–∫—Å—Ç–æ–≤:
```python
TEXTS = {
    "ru": {
        "key": "—Ç–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º",
        ...
    },
    "en": {
        "key": "text in English",
        ...
    }
}
```

–§—É–Ω–∫—Ü–∏—è `get_text(language, key, **kwargs)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

### bot/utils/commission.py

–î–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. `calculate_commission(base_amount)` - —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –∏ —Å—É–º–º—ã –∫–æ–º–∏—Å—Å–∏–∏
2. `calculate_payment_amount(total, method, rate)` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –Ω—É–∂–Ω—É—é –≤–∞–ª—é—Ç—É

## Workflow –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
1. /start
   ‚îî‚îÄ> –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

2. "üí≥ –û–ø–ª–∞—Ç–∞"
   ‚îî‚îÄ> –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
       ‚îú‚îÄ> –ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –µ–≥–æ
       ‚îî‚îÄ> –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ ‚Üí –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π
           ‚îî‚îÄ> –í–≤–æ–¥ —Å–µ—Ä–≤–∏—Å–∞
               ‚îî‚îÄ> –í–≤–æ–¥ —Å—É–º–º—ã
                   ‚îî‚îÄ> –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
                       ‚îî‚îÄ> –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –≤ –ë–î
                           ‚îî‚îÄ> –ü–æ–∫–∞–∑ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤
                               ‚îî‚îÄ> –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã
                                   ‚îî‚îÄ> –°—Ç–∞—Ç—É—Å PAID_USER
                                       ‚îî‚îÄ> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞–º

3. "üë§ –ü—Ä–æ—Ñ–∏–ª—å"
   ‚îî‚îÄ> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
       ‚îî‚îÄ> "üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã"
           ‚îî‚îÄ> –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
               ‚îî‚îÄ> –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
```

## Workflow –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```
1. /admin
   ‚îî‚îÄ> –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

2. "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
   ‚îî‚îÄ> –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ (–¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü)
       ‚îî‚îÄ> –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

3. "üìã –ó–∞–∫–∞–∑—ã"
   ‚îî‚îÄ> –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
       ‚îî‚îÄ> –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
           ‚îî‚îÄ> –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
               ‚îî‚îÄ> –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
                   ‚îî‚îÄ> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

4. "üì¢ –†–∞—Å—Å—ã–ª–∫–∞"
   ‚îî‚îÄ> –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
       ‚îî‚îÄ> –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
           ‚îî‚îÄ> –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
```

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ users

```sql
- telegram_id (BIGINT, PRIMARY KEY)
- username (VARCHAR)
- first_name (VARCHAR)
- language (VARCHAR) - 'ru' –∏–ª–∏ 'en'
- is_blocked (BOOLEAN)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
```

### –¢–∞–±–ª–∏—Ü–∞ orders

```sql
- id (BIGSERIAL, PRIMARY KEY)
- user_id (BIGINT, FK ‚Üí users)
- service_name (VARCHAR)
- base_amount (DECIMAL) - –±–∞–∑–æ–≤–∞—è —Å—É–º–º–∞ –≤ USD
- commission_rate (DECIMAL) - –ø—Ä–æ—Ü–µ–Ω—Ç –∫–æ–º–∏—Å—Å–∏–∏
- commission_amount (DECIMAL) - —Å—É–º–º–∞ –∫–æ–º–∏—Å—Å–∏–∏
- total_amount (DECIMAL) - –∏—Ç–æ–≥–æ –≤ USD
- payment_method (ENUM)
- payment_amount (DECIMAL) - –∫ –æ–ø–ª–∞—Ç–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤ RUB/USD)
- payment_currency (VARCHAR)
- status (ENUM) - PENDING/PAID_USER/COMPLETED/REJECTED
- created_at (TIMESTAMP)
- paid_at (TIMESTAMP)
- completed_at (TIMESTAMP)
- updated_at (TIMESTAMP)
```

### –¢–∞–±–ª–∏—Ü–∞ settings

```sql
- key (VARCHAR, PRIMARY KEY)
- value (TEXT)
- updated_at (TIMESTAMP)
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ë–î

–ö–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:
- `usdt_trc20_address` - –∞–¥—Ä–µ—Å USDT TRC-20
- `usdt_bep20_address` - –∞–¥—Ä–µ—Å USDT BEP-20
- `bybit_uid` - Bybit UID
- `card_number` - –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã
- `lolz_requisites` - —Ä–µ–∫–≤–∏–∑–∏—Ç—ã Lolz
- `instruction_text_ru` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (RU)
- `instruction_text_en` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (EN)
- `info_channel_url` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª
- `info_support_url` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É
- `info_terms_url` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ
- `info_refund_url` - –ø–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```
aiogram==3.7.0        # Telegram Bot framework
asyncpg==0.29.0       # PostgreSQL async driver
python-dotenv==1.0.0  # Environment variables
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å —É—Ä–æ–≤–Ω–µ–º INFO:
- –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- –û—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **.env** - –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ Git (–≤ .gitignore)
2. **Middleware** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **Admin Filter** - –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏—è–º —Ç–æ–ª—å–∫–æ –ø–æ ID
4. **SQL Injection** - –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã asyncpg
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å—É–º–º–∞, —Å—Ç–∞—Ç—É—Å—ã)

## –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫:
1. –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø—É–ª–∞ –ë–î (–≤ db.py)
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å load balancer –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
4. –†–∞–∑–¥–µ–ª–∏—Ç—å –ë–î (read replicas)
5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å webhook –≤–º–µ—Å—Ç–æ polling

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏
2. –í—Å–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã
3. –°–º–µ–Ω—É —è–∑—ã–∫–∞
4. –ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏)
5. –†–∞—Å—Å—ã–ª–∫—É
6. –ë–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
7. –õ–∏–º–∏—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–∞
- –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
- –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ë–î
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –±–æ—Ç–∞
