# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –í–æ–π–¥–∏—Ç–µ –≤ PostgreSQL
psql -U postgres

# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE payment_bot;

# –í—ã–π–¥–∏—Ç–µ
\q
```

### 3. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª

```bash
cp .env.example .env
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `.env`:

```env
BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
DB_HOST=localhost
DB_PORT=5432
DB_NAME=payment_bot
DB_USER=postgres
DB_PASSWORD=your_password
ADMIN_IDS=your_telegram_id
ADMIN_CHAT_ID=your_telegram_id
USD_TO_RUB_RATE=95.50
```

### 4. –ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à Telegram ID

–ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot) –∏ –ø–æ–ª—É—á–∏—Ç–µ –≤–∞—à ID.

### 5. –ó–∞–ø—É—Å–∫

```bash
python main.py
```

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã:

```bash
psql -U postgres payment_bot
```

```sql
-- –ü—Ä–∏–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤
UPDATE settings SET value = 'TYourAddress' WHERE key = 'usdt_trc20_address';
UPDATE settings SET value = '1234567890123456' WHERE key = 'card_number';

-- –ü—Ä–æ–≤–µ—Ä–∫–∞
SELECT * FROM settings;
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

1. `/start` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
2. "üí≥ –û–ø–ª–∞—Ç–∞ –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤" - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
3. –í–≤–µ–¥–∏—Ç–µ "Netflix"
4. –í–≤–µ–¥–∏—Ç–µ "10"
5. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
6. –ù–∞–∂–º–∏—Ç–µ "‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª"

### –¢–µ—Å—Ç –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏:

1. `/admin` - –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
2. "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
3. "üìã –ó–∞–∫–∞–∑—ã" - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
4. –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–∫–∞–∑ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "Failed to connect to database"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- PostgreSQL –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ .env
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞

### "Unauthorized"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å BOT_TOKEN –≤ .env

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω (python main.py)
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –í—ã –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã –≤ –ë–î
2. –û–±–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—Å—Ç—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
3. –î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫–∏ –≤ —Ä–∞–∑–¥–µ–ª "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä—É–ø–ø—É –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω–æ–≤
5. –û–±–Ω–æ–≤–∏—Ç–µ –∫—É—Ä—Å –≤–∞–ª—é—Ç

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
psql -U postgres payment_bot -c "\dt"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
psql -U postgres payment_bot -c "SELECT * FROM settings;"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
psql -U postgres payment_bot -c "SELECT * FROM users;"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
psql -U postgres payment_bot -c "SELECT * FROM orders;"

# –ë—ç–∫–∞–ø –ë–î
pg_dump -U postgres payment_bot > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î
psql -U postgres payment_bot < backup.sql
```
